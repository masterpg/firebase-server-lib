#--------------------------------------------------
#  Storage
#--------------------------------------------------

type Mutation {
  createStorageDir(dirPath: String!, options: CreateStorageNodeOptions): StorageNode!
  createStorageHierarchicalDirs(dirPaths: [String!]!): [StorageNode!]!
  removeStorageFile(key: StorageNodeGetKeyInput!): StorageNode
  moveStorageFile(fromFilePath: String!, toFilePath: String!): StorageNode!
  renameStorageFile(filePath: String!, newName: String!): StorageNode!
  setStorageDirShareDetail(key: StorageNodeGetKeyInput!, input: SetShareDetailInput): StorageNode!
  setStorageFileShareDetail(key: StorageNodeGetKeyInput!, input: SetShareDetailInput): StorageNode!
  handleUploadedFile(input: StorageNodeKeyInput!): StorageNode!
  setFileAccessAuthClaims(input: StorageNodeKeyInput!): String!
  removeFileAccessAuthClaims: String!
  createArticleTypeDir(input: CreateArticleTypeDirInput!, options: CreateStorageNodeOptions): StorageNode!
  createArticleGeneralDir(dirPath: String!, options: CreateStorageNodeOptions): StorageNode!
  renameArticleDir(dirPath: String!, newName: String!): StorageNode!
  setArticleSortOrder(orderNodePaths: [String!]!): Boolean!
  saveArticleMasterSrcFile(articleDirPath: String!, srcContent: String!, textContent: String!): SaveArticleMasterSrcFileResult!
  saveArticleDraftSrcFile(articleDirPath: String!, srcContent: String): StorageNode!
}

type Query {
  storageNode(input: StorageNodeGetKeyInput!): StorageNode
  storageNodes(input: StorageNodeGetKeysInput!): [StorageNode!]!
  storageDescendants(input: StorageNodeGetUnderInput!, pagination: PaginationInput): StoragePaginationResult!
  storageChildren(input: StorageNodeGetUnderInput!, pagination: PaginationInput): StoragePaginationResult!
  storageHierarchicalNodes(nodePath: String!): [StorageNode!]!
  storageAncestorDirs(nodePath: String!): [StorageNode!]!
  signedUploadUrls(inputs: [SignedUploadUrlInput!]!): [String!]!
  articleChildren(input: GetArticleChildrenInput!, pagination: PaginationInput): StoragePaginationResult!
  userArticleList(input: GetUserArticleListInput!, pagination: PaginationInput): ArticleListPaginationResult!
  userArticleTableOfContents(userName: String!): [ArticleTableOfContentsItem!]!
}

#--------------------------------------------------
#  User
#--------------------------------------------------

type Mutation {
  setUserInfo(uid: String!, input: UserInput!): SetUserInfoResult!
  deleteUser(uid: String!): Boolean!
}

type Query {
  authData: AuthDataResult!
}
